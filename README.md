# Configuración de la Agencia Web

Este proyecto utiliza **React** (Frontend), **Supabase** (Base de datos y Autenticación) y **Cloudinary** (Almacenamiento de imágenes).

## 1. Configuración de Supabase (IMPORTANTE)

### A. Crear la Tabla (Inicial)
Ve al **SQL Editor** en tu panel de Supabase y ejecuta:

```sql
create table if not exists posts (
  id bigint generated by default as identity primary key,
  created_at timestamp with time zone default timezone('utc'::text, now()) not null,
  title text not null,
  summary text,
  content text not null,
  image_url text,
  slug text
);
```

### B. Configurar Autenticación (Login)
1. Ve a **Authentication** -> **Providers**.
2. Asegúrate de que **Email** esté habilitado.
3. Ve a **Authentication** -> **Users** y crea un nuevo usuario (este será tu admin).

### C. SOLUCIÓN NUCLEAR: Arreglar Permisos de Borrado
Si no puedes borrar o editar, es porque las reglas de seguridad (RLS) están bloqueando tu app. Como eres el único administrador del proyecto, la solución más efectiva es **desactivar el bloqueo**.

**EJECUTA ESTO EN EL SQL EDITOR DE SUPABASE:**

```sql
-- Esto eliminará cualquier restricción y dejará que tu app funcione al 100%
ALTER TABLE posts DISABLE ROW LEVEL SECURITY;
```

*(Si en el futuro necesitas seguridad avanzada para múltiples usuarios, podrás volver a activarla, pero para una agencia personal, esto es lo correcto).*

### D. URLs AMIGABLES (SLUGS)
Para que los enlaces funcionen bien (`/blog/mi-titulo`):

```sql
ALTER TABLE posts ADD COLUMN IF NOT EXISTS slug text;
ALTER TABLE posts DROP CONSTRAINT IF EXISTS posts_slug_key;
ALTER TABLE posts ADD CONSTRAINT posts_slug_key UNIQUE (slug);
```

---

## 2. Configuración de Cloudinary

El sistema utiliza una carga "sin firmar" (Unsigned).
1. Ve a tu panel de Cloudinary -> **Settings** -> **Upload**.
2. En **Upload presets**, añade uno nuevo.
3. **IMPORTANTE:** En "Signing Mode", selecciona **Unsigned**.
4. En "Upload preset name", escribe: `blog_upload`.

---

## 3. Puesta en Marcha

### Cómo correr en Local

Si has descargado el código a tu ordenador:

1.  Asegúrate de tener **Node.js** instalado.
2.  Abre una terminal en la carpeta del proyecto.
3.  Instala las dependencias:
    ```bash
    npm install
    ```
4.  Inicia el servidor de desarrollo:
    ```bash
    npm start
    # O si usas Vite:
    npm run dev
    ```
5.  Abre `http://localhost:3000` (o el puerto que te indique) en tu navegador.

---

## 4. Despliegue en GitHub Pages

GitHub Pages es gratis y perfecto para este sitio. Sigue estos pasos:

1.  **Crea un repositorio en GitHub** y sube tu código.
2.  Abre tu archivo `package.json` y añade la propiedad `homepage` al principio (reemplaza con tu usuario y repo):
    ```json
    {
      "name": "agencia-web",
      "homepage": "https://TU_USUARIO.github.io/NOMBRE_DEL_REPO",
      ...
    }
    ```
3.  Instala la librería de despliegue:
    ```bash
    npm install --save-dev gh-pages
    ```
4.  Añade estos scripts en tu `package.json` dentro de `"scripts"`:
    ```json
    "scripts": {
      "predeploy": "npm run build",
      "deploy": "gh-pages -d build",
      ...
    }
    ```
5.  Ejecuta el comando de despliegue:
    ```bash
    npm run deploy
    ```
6.  ¡Listo! En unos minutos tu web estará visible en la URL que pusiste en `homepage`.

*Nota: Como la app usa `HashRouter`, funcionará perfectamente en GitHub Pages sin configuraciones extra de servidor.*