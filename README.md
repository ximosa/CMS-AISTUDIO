# Configuración del Proyecto y Supabase

## 1. Configuración de Base de Datos

Entra a tu panel de control en Supabase, ve al **SQL Editor** y ejecuta estos scripts.

### A. Tabla de Posts
```sql
create table posts (
  id bigint generated by default as identity primary key,
  created_at timestamp with time zone default timezone('utc'::text, now()) not null,
  title text not null,
  summary text,
  content text not null,
  image_url text
);
```

### B. Tabla de Galería de Imágenes (Historial)
Para poder reutilizar imágenes, creamos un registro de lo que subes.
```sql
create table media_library (
  id bigint generated by default as identity primary key,
  created_at timestamp with time zone default timezone('utc'::text, now()) not null,
  url text not null unique
);
```

## 2. Configuración de Seguridad (Autenticación y RLS)

### A. Habilitar Email/Password
1. En Supabase, ve a **Authentication** -> **Providers**.
2. Habilita **Email**.

### B. Crear Usuario Admin
1. Ve a **Authentication** -> **Users**.
2. **Add User** -> Create New User.

### C. Políticas de Seguridad (RLS)
Ejecuta esto en el **SQL Editor** para proteger tus datos:

```sql
-- Posts
alter table posts enable row level security;
create policy "Public posts view" on posts for select to anon, authenticated using ( true );
create policy "Admin manage posts" on posts for all to authenticated using ( true ) with check ( true );

-- Media Library
alter table media_library enable row level security;
create policy "Public media view" on media_library for select to anon, authenticated using ( true );
create policy "Admin insert media" on media_library for insert to authenticated with check ( true );
```

## 3. Configuración de Cloudinary

Necesitas un **Upload Preset** "Unsigned".

1. Cloudinary > **Settings** > **Upload**.
2. **Add upload preset**.
3. Signing Mode: **Unsigned**.
4. Name: `blog_upload`.
5. Save.

**Datos Configurados en el código:**
- Cloud Name: `djjiagkho`
- API Key: `488363368914933`
- Upload Preset: `blog_upload`

## 4. Producción

1. `npm run build`
2. Sube la carpeta `dist`.